import {useEffect,useMemo,useState} from "react";import en from "../../i18n/en.json";import de from "../../i18n/de.json";const DICTS={en,de};const DEFAULT=(typeof navigator!=="undefined"&&navigator.language?.startsWith("de"))?"de":"en";const KEY="plan2fund.lang";export function useI18n(){const [lang,setLang]=useState(()=>{try{return localStorage.getItem(KEY)||DEFAULT}catch{return DEFAULT}});const dict=useMemo(()=>DICTS[lang]||en,[lang]);useEffect(()=>{try{localStorage.setItem(KEY,lang)}catch{}},[lang]);return{t:(p,f="")=>p.split(".").reduce((a,k)=>(a&&a[k]!=null)?a[k]:null,dict)??f,lang,setLang,available:Object.keys(DICTS)}}